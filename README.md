# 토비 스프링 공부용

## VOl. 1 스프링의 이해와 원리 
***
### 1장 오브젝트와 의존관계
- - - - - -
USERS테이블
| 필드명     |     타입     |         설정        |
| ---
|  id      | VARCHAR(10) | Primary Key        |
| name     | VARCHAR(20) | Not Null           |
| Password | VARCHAR(20) | Not Null           |


**자바빈**
자바빈은 비주얼 툴에서 조작 가능한 컴포넌트를 말함.
  jsp에서 객체를 가져다가 사용할수 있도록 한 기법.
**자바빈**의 사용 목적
 1. 디자이너가 작업하는 화면 표출부분(view) 부분과 프로그래머가 작업ㅎ나느 로직(model) 부분을 분리시키기 위해서.
 2. jsp페이지에 화면 표출부분과 로직들이 혼재한 형태의 코드는 재사용이 어렵다.

 jsp Based **자바빈**의 개발 규격
 * 디폴트 생성자가 있어야 한다.
 * 패키지화를 해야한다.(디폴트 패키지는 허용하지 않음) - 패키지화가 되어있지 않으면 jsp에서 인식할 수 없다.

 여기 설명에서는 **자바빈** 은 DTO 같다.
**서블릿**
서블릿은 클라이언트 요청을 처리하고 그 결과를 다시 클라이언트에게 전송하는 Servlet 클래스의 구현 규칙을 지킨 자바 프로그램.

서블릿을 관리해주는 **서블릿 컨테이너**는 서블릿의 생명주기를 관리하고 요청에 따른 스레드를 생성해준다.

서블릿 컨테이너의 역할
* 통신 지원 - 웹서버가 통신할 수 있는 손쉬운방법을 제공한다.
* 생명주기 관리 - 서블릿 컨테이너가 기동되는 순간 서블릿 클래스를 로딩해서 인스턴스화 하고 , 서블릿의 생명이 다하는 순간 가비지 컬렉션을 진행한다.
* 멀티스레딩 관리 - 동시의 여러 요청이 들어온다면 멀티스레딩 환경으로 동시다발적인 작업을 관리한다.
* 선언적인 보안관리 - 서블릿 컨테이너는 보안 관련된 기능을 지원하므로 서블릿 코드 안에 보안 관련된 메소드를 구현하지 않아도 된다.
* jsp 지원

**톰캣**
톰캣은 서블릿 컨테이너이다. 웹서버와 연동하여 실행할 수 있는 자바환경을 제공하고 jsp와 자바 서블릿이 실행할 수 있는 환경을 제공하고 있다.
요즘 톰캣의 버젼이 올라가면서  웹 서버의 기능도 충분히 잘 수행하기 때문에 굳이 웹서버와 WAS를 나눠서 생각하지 않아도 된다.

**웹서버** 와 **WAS**의 차이

* 웹서버란 Web Client(웹 브라우저)에게 제공하는 컨텐츠를 제공하는 서버. 정적인 HTML 혹은 jpeg나 gif같은 이미지를 HTTP 프로토콜을 통해 웹 브라우저로 제공.

* WAS란 Server단에서 어플리케이션을 동작할 수 있도록 지원. 일반적으로 컨테이너라는 용어로 사용됨. Servlet, JSP, ASP, PHP 등의 프로그램으로 사용됨.

초기 WEB : 이미지 혹은 단순 HTML
현재: 게시판, 방명록 등 Server-Client간 상호대화라는 페이지를 제공. -> 내부 어플리케이션을 동작시킬 수 있는 컨테이너를 내장. 동적인 요구에 댕응하기 위해 이에 적합한 형태로 변화.

각 사이트가 많은 사용자에게 원활한 서비스를 제공하기 위해 기능적인 layer를 나누게 됨. -> 여기서 웹서버와 WAS의 구분이 나타나게됨.

* 웹서버 기능

1. Clustering 기능: 사용자 요청이 발생하면 상황에 따라 각각의 WAS에 요청을 넘김.
2. Cache 기능: css, js, image 등의 리소스 파일을 가지고 잇다가 WAS를 거치지 않고 사용자에게 직접 넘김. 사용자는 cache period동안 전달받은 리소스를 사용함.

* WAS 기능

1. Servlet 페이지를 html 형태로 변환함. ex) jsp 경우 jsp를 WAS에서 java class파일로 컴파일 후 html형태의 페이지를 사용자에게 전달하게 됨.


*WAS 종류
tomcat, tMax jeus, BEA Web Logic, IBM Webspere, Oracle

*웹서버 종류
IIS, apache, tMax, WebtoB

- tomcat(WAS) : 톰캣은 자체적으로 보유하고 있는 내부 웹서버와 함께 독립적으로 사용 될 수도 있지만 아파치 넷스케이프 엔터프라이즈 서버, IIS, 마이크로소프트의 PSW 등 다른 웹서버와 함께 사용될 수도 있다.

 